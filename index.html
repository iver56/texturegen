<!DOCTYPE html>
<link rel=stylesheet type=text/css href=res/master.css>
<script src=lib/interact.js></script>
<script src=lib/perlin.js></script>
<script src=src/texturegen.js></script>
<script src=src/TextureGen.js></script>
<script src=src/NodeManager.js></script>
<script src=src/BaseNode.js></script>
<script src=src/ColorNode.js></script>
<script src=src/CanvasNode.js></script>
<script src=src/FillNode.js></script>

<div id=editor>
</div>

<script>

var editor = document.getElementById('editor');

var nodeManager = new TextureGen.NodeManager(editor);
var fillNode = nodeManager.createNode(TextureGen.FillNode);
var colorNode = nodeManager.createNode(TextureGen.ColorNode);

interact('.output').draggable({autoScroll: true});

interact('.input').dropzone({
  accept: '.output',
  ondrop: function (event) {
    var toId = event.target.parentElement.parentElement.dataset.id;
    var fromId = event.relatedTarget.parentElement.dataset.id;
    var inputName = event.target.dataset.name;
    nodeManager.connect(fromId, toId, inputName);
  }
});


</script>
